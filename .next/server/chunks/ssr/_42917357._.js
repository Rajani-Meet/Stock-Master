module.exports=[3314,a=>{"use strict";let b=(0,a.i(70106).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],3314)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},80281,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:k,defaultChecked:l,required:m,disabled:o,value:p="on",onCheckedChange:q,form:r,...u}=a,[v,w]=c.useState(null),x=(0,e.useComposedRefs)(f,a=>w(a)),y=c.useRef(!1),z=!v||r||!!v.closest("form"),[A=!1,B]=(0,g.useControllableState)({prop:k,defaultProp:l,onChange:q});return(0,b.jsxs)(n,{scope:h,checked:A,disabled:o,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":t(A),"data-disabled":o?"":void 0,disabled:o,value:p,...u,ref:x,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{B(a=>!a),z&&(y.current=a.isPropagationStopped(),y.current||a.stopPropagation())})}),z&&(0,b.jsx)(s,{control:v,bubbles:!y.current,name:i,value:p,checked:A,required:m,disabled:o,form:r,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,j=c.useRef(null),k=(0,h.usePrevious)(e),l=(0,i.useSize)(d);return c.useEffect(()=>{let a=j.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...a.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function t(a){return a?"checked":"unchecked"}var u=a.i(97895);function v({className:a,...c}){return(0,b.jsx)(p,{"data-slot":"switch",className:(0,u.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(r,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}a.s(["Switch",()=>v],80281)},43208,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(40695),f=a.i(54161),g=a.i(5522),h=a.i(87682),i=a.i(60246),j=a.i(15618),k=a.i(3314),l=a.i(46842),m=a.i(21161),n=a.i(87532),o=a.i(70106);let p=(0,o.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),q=(0,o.default)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var r=a.i(65733),s=a.i(17171),t=a.i(80281);function u({open:a,onClose:d,onSuccess:f,user:i}){let[j,k]=(0,c.useState)({name:i?.name||"",email:i?.email||"",role:i?.role||"WAREHOUSE_STAFF",password:"",isActive:i?.isActive??!0}),[l,m]=(0,c.useState)(!1),n=async a=>{a.preventDefault(),m(!0);try{let a=i?"PUT":"POST",b=i?{userId:i.id,...j}:j;(await fetch("/api/users",{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok&&(f(),d(),k({name:"",email:"",role:"WAREHOUSE_STAFF",password:"",isActive:!0}))}catch(a){console.error("Failed to save user:",a)}finally{m(!1)}};return(0,b.jsx)(r.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsx)(r.DialogHeader,{children:(0,b.jsx)(r.DialogTitle,{children:i?"Edit User":"Add User"})}),(0,b.jsxs)("form",{onSubmit:n,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(s.Label,{children:"Name"}),(0,b.jsx)(g.Input,{value:j.name,onChange:a=>k({...j,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(s.Label,{children:"Email"}),(0,b.jsx)(g.Input,{type:"email",value:j.email,onChange:a=>k({...j,email:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(s.Label,{children:"Role"}),(0,b.jsxs)(h.Select,{value:j.role,onValueChange:a=>k({...j,role:a}),children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"ADMIN",children:"Admin"}),(0,b.jsx)(h.SelectItem,{value:"MANAGER",children:"Manager"}),(0,b.jsx)(h.SelectItem,{value:"WAREHOUSE_STAFF",children:"Warehouse Staff"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(s.Label,{children:["Password ",i&&"(leave blank to keep current)"]}),(0,b.jsx)(g.Input,{type:"password",value:j.password,onChange:a=>k({...j,password:a.target.value}),required:!i})]}),i&&(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(t.Switch,{checked:j.isActive,onCheckedChange:a=>k({...j,isActive:a})}),(0,b.jsx)(s.Label,{children:"Active"})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:d,children:"Cancel"}),(0,b.jsx)(e.Button,{type:"submit",disabled:l,children:l?"Saving...":i?"Update":"Create"})]})]})]})})}function v(){let[a,o]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)({role:"all",isActive:"all",search:""}),A=async()=>{try{let a=new URLSearchParams;Object.entries(y).forEach(([b,c])=>{c&&"all"!==c&&a.append(b,c)});let b=await fetch(`/api/users?${a}`),c=await b.json();o(c.data||[])}catch(a){console.error("Failed to fetch users:",a)}finally{s(!1)}};(0,c.useEffect)(()=>{A()},[y]);let B=async(a,b)=>{try{await fetch("/api/users",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,isActive:!b})}),A()}catch(a){console.error("Failed to update user:",a)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Users,{className:"w-8 h-8 text-primary"}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"User Management"})]}),(0,b.jsxs)(e.Button,{className:"gap-2",onClick:()=>v(!0),children:[(0,b.jsx)(j.Plus,{className:"w-4 h-4"}),"Add User"]})]}),(0,b.jsx)(u,{open:t||!!w,onClose:()=>{v(!1),x(null)},onSuccess:A,user:w}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,b.jsx)(n.Search,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{placeholder:"Search users...",value:y.search,onChange:a=>z({...y,search:a.target.value})})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(h.Select,{value:y.role,onValueChange:a=>z({...y,role:a}),children:[(0,b.jsx)(h.SelectTrigger,{className:"w-40",children:(0,b.jsx)(h.SelectValue,{placeholder:"All Roles"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"all",children:"All Roles"}),(0,b.jsx)(h.SelectItem,{value:"ADMIN",children:"Admin"}),(0,b.jsx)(h.SelectItem,{value:"MANAGER",children:"Manager"}),(0,b.jsx)(h.SelectItem,{value:"WAREHOUSE_STAFF",children:"Staff"})]})]}),(0,b.jsxs)(h.Select,{value:y.isActive,onValueChange:a=>z({...y,isActive:a}),children:[(0,b.jsx)(h.SelectTrigger,{className:"w-32",children:(0,b.jsx)(h.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(h.SelectItem,{value:"true",children:"Active"}),(0,b.jsx)(h.SelectItem,{value:"false",children:"Inactive"})]})]})]})]})}),(0,b.jsx)(d.CardContent,{children:r?(0,b.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"Loading users..."}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(i.Users,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No users found"})]}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("div",{className:"p-4 rounded-lg border hover:bg-foreground/5 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(a=>{switch(a){case"ADMIN":return(0,b.jsx)(k.Shield,{className:"w-4 h-4 text-primary"});case"MANAGER":return(0,b.jsx)(m.Settings,{className:"w-4 h-4 text-accent"});default:return(0,b.jsx)(l.User,{className:"w-4 h-4 text-muted-foreground"})}})(a.role),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Badge,{variant:{ADMIN:"destructive",MANAGER:"default",WAREHOUSE_STAFF:"secondary"}[a.role]||"secondary",children:a.role.replace("_"," ")}),(0,b.jsx)(f.Badge,{variant:a.isActive?"success":"secondary",children:a.isActive?"Active":"Inactive"}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(e.Button,{size:"sm",variant:"outline",onClick:()=>x(a),children:(0,b.jsx)(p,{className:"w-4 h-4"})}),(0,b.jsx)(e.Button,{size:"sm",variant:a.isActive?"destructive":"default",onClick:()=>B(a.id,a.isActive),children:(0,b.jsx)(q,{className:"w-4 h-4"})})]})]})]}),(0,b.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Last Login"}),(0,b.jsx)("p",{className:"font-medium",children:a.lastLoginAt?new Date(a.lastLoginAt).toLocaleDateString():"Never"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Created"}),(0,b.jsx)("p",{className:"font-medium",children:new Date(a.createdAt).toLocaleDateString()})]})]})]},a.id))})})]})]})}a.s(["default",()=>v],43208)}];

//# sourceMappingURL=_42917357._.js.map