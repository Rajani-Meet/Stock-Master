{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///E:/Stock%20Master/lib/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const db =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    log: [\"query\", \"error\"],\n  })\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = db\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAEC,MAAM,KACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK;QAAC;QAAS;KAAQ;AACzB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///E:/Stock%20Master/app/api/reports/inventory/route.ts"],"sourcesContent":["import { db } from \"@/lib/db\"\nimport { NextResponse } from \"next/server\"\n\nexport async function GET(req: Request) {\n  try {\n    const { searchParams } = new URL(req.url)\n    const warehouseId = searchParams.get(\"warehouseId\")\n    const categoryId = searchParams.get(\"categoryId\")\n\n    const where: any = {}\n    if (warehouseId) where.warehouseId = warehouseId\n    if (categoryId) where.product = { categoryId }\n\n    const stockLevels = await db.stockLevel.findMany({\n      where,\n      include: {\n        product: { include: { category: true } },\n        warehouse: true,\n        location: true\n      }\n    })\n\n    const totalValue = stockLevels.reduce((sum, sl) => sum + (sl.quantity * 10), 0) // Assuming avg price 10\n    const lowStockCount = stockLevels.filter(sl => sl.quantity <= sl.product.minStockLevel).length\n    const outOfStockCount = stockLevels.filter(sl => sl.quantity === 0).length\n\n    return NextResponse.json({\n      summary: {\n        totalProducts: stockLevels.length,\n        totalValue,\n        lowStockCount,\n        outOfStockCount\n      },\n      details: stockLevels\n    })\n  } catch (error) {\n    return NextResponse.json({ error: \"Failed to generate inventory report\" }, { status: 500 })\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,GAAY;IACpC,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;QACxC,MAAM,cAAc,aAAa,GAAG,CAAC;QACrC,MAAM,aAAa,aAAa,GAAG,CAAC;QAEpC,MAAM,QAAa,CAAC;QACpB,IAAI,aAAa,MAAM,WAAW,GAAG;QACrC,IAAI,YAAY,MAAM,OAAO,GAAG;YAAE;QAAW;QAE7C,MAAM,cAAc,MAAM,iHAAE,CAAC,UAAU,CAAC,QAAQ,CAAC;YAC/C;YACA,SAAS;gBACP,SAAS;oBAAE,SAAS;wBAAE,UAAU;oBAAK;gBAAE;gBACvC,WAAW;gBACX,UAAU;YACZ;QACF;QAEA,MAAM,aAAa,YAAY,MAAM,CAAC,CAAC,KAAK,KAAO,MAAO,GAAG,QAAQ,GAAG,IAAK,GAAG,wBAAwB;;QACxG,MAAM,gBAAgB,YAAY,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,IAAI,GAAG,OAAO,CAAC,aAAa,EAAE,MAAM;QAC9F,MAAM,kBAAkB,YAAY,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,KAAK,GAAG,MAAM;QAE1E,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;gBACP,eAAe,YAAY,MAAM;gBACjC;gBACA;gBACA;YACF;YACA,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAsC,GAAG;YAAE,QAAQ;QAAI;IAC3F;AACF"}}]
}