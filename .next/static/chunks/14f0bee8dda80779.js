(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94179,e=>{"use strict";var t=e.i(43476),r=e.i(91918),s=e.i(25913),a=e.i(47163);let i=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"border-transparent bg-green-500 text-white [a&]:hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white [a&]:hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,asChild:n=!1,...l}){let d=n?r.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,a.cn)(i({variant:s}),e),...l})}e.s(["Badge",()=>n])},70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardHeader",()=>a,"CardTitle",()=>i])},48425,e=>{"use strict";var t=e.i(71645),r=e.i(74080),s=e.i(91918),a=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let i=t.forwardRef((e,t)=>{let{asChild:i,...n}=e,l=i?s.Slot:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(l,{...n,ref:t})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});function n(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>n])},81140,30030,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:s=!0}={}){return function(t){if(e?.(t),!1===s||!t.defaultPrevented)return r?.(t)}}e.s(["composeEventHandlers",()=>t],81140);var r=e.i(71645),s=e.i(43476);function a(e,t){let a=r.createContext(t),i=e=>{let{children:t,...i}=e,n=r.useMemo(()=>i,Object.values(i));return(0,s.jsx)(a.Provider,{value:n,children:t})};return i.displayName=e+"Provider",[i,function(s){let i=r.useContext(a);if(i)return i;if(void 0!==t)return t;throw Error(`\`${s}\` must be used within \`${e}\``)}]}function i(e,t=[]){let a=[],n=()=>{let t=a.map(e=>r.createContext(e));return function(s){let a=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return n.scopeName=e,[function(t,i){let n=r.createContext(i),l=a.length;a=[...a,i];let d=t=>{let{scope:a,children:i,...d}=t,c=a?.[e]?.[l]||n,o=r.useMemo(()=>d,Object.values(d));return(0,s.jsx)(c.Provider,{value:o,children:i})};return d.displayName=t+"Provider",[d,function(s,a){let d=a?.[e]?.[l]||n,c=r.useContext(d);if(c)return c;if(void 0!==i)return i;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=s.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}(n,...t)]}e.s(["createContext",()=>a,"createContextScope",()=>i],30030)},30207,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>(...e)=>r.current?.(...e),[])}e.s(["useCallbackRef",()=>r])},34620,e=>{"use strict";var t=e.i(71645),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r])},35804,e=>{"use strict";var t=e.i(71645),r=e.i(34620);function s(e){let[s,a]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;a({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),s}e.s(["useSize",()=>s])},69340,e=>{"use strict";var t=e.i(71645),r=e.i(30207);function s({prop:e,defaultProp:s,onChange:a=()=>{}}){let[i,n]=function({defaultProp:e,onChange:s}){let a=t.useState(e),[i]=a,n=t.useRef(i),l=(0,r.useCallbackRef)(s);return t.useEffect(()=>{n.current!==i&&(l(i),n.current=i)},[i,n,l]),a}({defaultProp:s,onChange:a}),l=void 0!==e,d=l?e:i,c=(0,r.useCallbackRef)(a);return[d,t.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&c(r)}else n(t)},[l,e,n,c])]}e.s(["useControllableState",()=>s])},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},98919,e=>{"use strict";let t=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},21218,e=>{"use strict";let t=(0,e.i(75254).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},10472,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(70065),a=e.i(67881),i=e.i(94179),n=e.i(62870),l=e.i(88844),d=e.i(25652),c=e.i(63209),o=e.i(17923),u=e.i(98919);let x=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var m=e.i(21218),h=e.i(22016);function f(){let[e,f]=(0,r.useState)(null),[g,p]=(0,r.useState)(!0),[v,b]=(0,r.useState)("30"),[j,y]=(0,r.useState)([]),[w,N]=(0,r.useState)("all");if((0,r.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([fetch(`/api/dashboard/kpis?${"all"!==w?`warehouseId=${w}&`:""}dateFrom=${new Date(Date.now()-24*parseInt(v)*36e5).toISOString()}`),fetch("/api/warehouses")]),[r,s]=await Promise.all([e.json(),t.json()]);f(r),y(s.data||[])}catch(e){console.error("Failed to fetch data:",e)}finally{p(!1)}})()},[v,w]),g)return(0,t.jsx)("div",{className:"text-center py-10",children:"Loading..."});let C=[{title:"Review Low Stock Alerts",priority:"HIGH",count:e?.inventory?.lowStockItems||0,link:"/products?lowStock=true"},{title:"Pending Operations",priority:"MEDIUM",count:(e?.operations?.pendingReceipts||0)+(e?.operations?.pendingDeliveries||0),link:"/receipts"},{title:"System Performance",priority:"LOW",count:e?.alerts?.length||0,link:"/settings"}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Shield,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Admin Dashboard"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)(n.Select,{value:w,onValueChange:N,children:[(0,t.jsx)(n.SelectTrigger,{className:"w-full sm:w-48",children:(0,t.jsx)(n.SelectValue,{placeholder:"All Warehouses"})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"all",children:"All Warehouses"}),j.map(e=>(0,t.jsx)(n.SelectItem,{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)(n.Select,{value:v,onValueChange:b,children:[(0,t.jsx)(n.SelectTrigger,{className:"w-full sm:w-32",children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"7",children:"7 days"}),(0,t.jsx)(n.SelectItem,{value:"30",children:"30 days"}),(0,t.jsx)(n.SelectItem,{value:"90",children:"90 days"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)(s.Card,{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border-0",children:[(0,t.jsxs)(s.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(s.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-2xl flex items-center justify-center",children:(0,t.jsx)(l.Package,{className:"w-6 h-6 text-blue-600"})})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:e?.inventory?.totalProducts||0}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,t.jsx)(d.TrendingUp,{className:"w-3 h-3 text-green-500"}),"Active inventory items"]})]})]}),(0,t.jsxs)(s.Card,{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border-0",children:[(0,t.jsxs)(s.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(s.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Inventory Value"}),(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center",children:(0,t.jsx)(x,{className:"w-6 h-6 text-green-600"})})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["$",(e?.inventory?.totalInventoryValue||0).toLocaleString()]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,t.jsx)(d.TrendingUp,{className:"w-3 h-3 text-green-500"}),"Total stock value"]})]})]}),(0,t.jsxs)(s.Card,{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border-0",children:[(0,t.jsxs)(s.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(s.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),(0,t.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center",children:(0,t.jsx)(c.AlertCircle,{className:"w-6 h-6 text-red-600"})})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-red-600 mb-2",children:e?.inventory?.lowStockItems||0}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,t.jsx)(c.AlertCircle,{className:"w-3 h-3 text-red-500"}),"Need reordering"]})]})]}),(0,t.jsxs)(s.Card,{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border-0",children:[(0,t.jsxs)(s.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(s.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Stock Movements"}),(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center",children:(0,t.jsx)(m.Activity,{className:"w-6 h-6 text-purple-600"})})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:e?.operations?.totalMovements||0}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,t.jsx)(m.Activity,{className:"w-3 h-3 text-purple-500"}),"Last ",v," days"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(s.Card,{className:"bg-white rounded-2xl shadow-lg border-0",children:[(0,t.jsx)(s.CardHeader,{className:"pb-4",children:(0,t.jsxs)(s.CardTitle,{className:"flex items-center gap-2 text-gray-900",children:[(0,t.jsx)(o.BarChart3,{className:"w-5 h-5 text-blue-600"}),"Operations Overview"]})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-xl bg-gradient-to-r from-primary/5 to-transparent border border-primary/10",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Pending Receipts"}),(0,t.jsx)(i.Badge,{className:"bg-primary/10 text-primary border-primary/20",children:e?.operations?.pendingReceipts||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-xl bg-gradient-to-r from-secondary/5 to-transparent border border-secondary/10",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Pending Deliveries"}),(0,t.jsx)(i.Badge,{className:"bg-secondary/10 text-secondary border-secondary/20",children:e?.operations?.pendingDeliveries||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-xl bg-gradient-to-r from-accent/5 to-transparent border border-accent/10",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Scheduled Transfers"}),(0,t.jsx)(i.Badge,{className:"bg-accent/10 text-accent border-accent/20",children:e?.operations?.scheduledTransfers||0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Inbound"}),(0,t.jsx)("p",{className:"text-lg font-bold text-secondary",children:e?.operations?.inboundMovements||0})]}),(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-muted/50 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Outbound"}),(0,t.jsx)("p",{className:"text-lg font-bold text-primary",children:e?.operations?.outboundMovements||0})]})]})]})})]}),(0,t.jsxs)(s.Card,{className:"bg-white rounded-2xl shadow-lg border-0",children:[(0,t.jsx)(s.CardHeader,{className:"pb-4",children:(0,t.jsxs)(s.CardTitle,{className:"flex items-center gap-2 text-gray-900",children:[(0,t.jsx)(c.AlertCircle,{className:"w-5 h-5 text-red-600"}),"Priority Tasks"]})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:C.map((e,r)=>(0,t.jsx)("div",{className:"group p-4 rounded-xl border border-border/50 hover:border-primary/20 hover:shadow-md transition-all duration-200 bg-gradient-to-r from-background to-muted/20",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-2 h-2 rounded-full ${"HIGH"===e.priority?"bg-destructive":"MEDIUM"===e.priority?"bg-accent":"bg-secondary"}`}),(0,t.jsx)("span",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:e.title}),e.count>0&&(0,t.jsx)(i.Badge,{variant:"HIGH"===e.priority?"destructive":"secondary",className:"text-xs",children:e.count})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Badge,{variant:"HIGH"===e.priority?"destructive":"MEDIUM"===e.priority?"default":"secondary",className:"text-xs",children:e.priority}),(0,t.jsx)(h.default,{href:e.link,children:(0,t.jsx)(a.Button,{size:"sm",variant:"outline",className:"hover:bg-primary hover:text-primary-foreground transition-colors",children:"View"})})]})]})},r))})})]})]}),e?.alerts&&e.alerts.length>0&&(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Recent Alerts"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"space-y-2",children:e.alerts.slice(0,5).map((e,r)=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-2 rounded border gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.AlertCircle,{className:"w-4 h-4 text-warning flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm",children:e.message})]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]},r))})})]})]})}e.s(["default",()=>f],10472)}]);