(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94179,e=>{"use strict";var t=e.i(43476),s=e.i(91918),r=e.i(25913),i=e.i(47163);let n=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"border-transparent bg-green-500 text-white [a&]:hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white [a&]:hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function a({className:e,variant:r,asChild:a=!1,...l}){let c=a?s.Slot:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(n({variant:r}),e),...l})}e.s(["Badge",()=>a])},48425,e=>{"use strict";var t=e.i(71645),s=e.i(74080),r=e.i(91918),i=e.i(43476),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let n=t.forwardRef((e,t)=>{let{asChild:n,...a}=e,l=n?r.Slot:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...a,ref:t})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{});function a(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>n,"dispatchDiscreteCustomEvent",()=>a])},81140,30030,e=>{"use strict";function t(e,s,{checkForDefaultPrevented:r=!0}={}){return function(t){if(e?.(t),!1===r||!t.defaultPrevented)return s?.(t)}}e.s(["composeEventHandlers",()=>t],81140);var s=e.i(71645),r=e.i(43476);function i(e,t){let i=s.createContext(t),n=e=>{let{children:t,...n}=e,a=s.useMemo(()=>n,Object.values(n));return(0,r.jsx)(i.Provider,{value:a,children:t})};return n.displayName=e+"Provider",[n,function(r){let n=s.useContext(i);if(n)return n;if(void 0!==t)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function n(e,t=[]){let i=[],a=()=>{let t=i.map(e=>s.createContext(e));return function(r){let i=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return a.scopeName=e,[function(t,n){let a=s.createContext(n),l=i.length;i=[...i,n];let c=t=>{let{scope:i,children:n,...c}=t,d=i?.[e]?.[l]||a,o=s.useMemo(()=>c,Object.values(c));return(0,r.jsx)(d.Provider,{value:o,children:n})};return c.displayName=t+"Provider",[c,function(r,i){let c=i?.[e]?.[l]||a,d=s.useContext(c);if(d)return d;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:s,scopeName:r})=>{let i=s(e)[`__scope${r}`];return{...t,...i}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}(a,...t)]}e.s(["createContext",()=>i,"createContextScope",()=>n],30030)},30207,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef(e);return t.useEffect(()=>{s.current=e}),t.useMemo(()=>(...e)=>s.current?.(...e),[])}e.s(["useCallbackRef",()=>s])},34620,e=>{"use strict";var t=e.i(71645),s=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>s])},35804,e=>{"use strict";var t=e.i(71645),s=e.i(34620);function r(e){let[r,i]=t.useState(void 0);return(0,s.useLayoutEffect)(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,r;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,r=t.blockSize}else s=e.offsetWidth,r=e.offsetHeight;i({width:s,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}i(void 0)},[e]),r}e.s(["useSize",()=>r])},69340,e=>{"use strict";var t=e.i(71645),s=e.i(30207);function r({prop:e,defaultProp:r,onChange:i=()=>{}}){let[n,a]=function({defaultProp:e,onChange:r}){let i=t.useState(e),[n]=i,a=t.useRef(n),l=(0,s.useCallbackRef)(r);return t.useEffect(()=>{a.current!==n&&(l(n),a.current=n)},[n,a,l]),i}({defaultProp:r,onChange:i}),l=void 0!==e,c=l?e:n,d=(0,s.useCallbackRef)(i);return[c,t.useCallback(t=>{if(l){let s="function"==typeof t?t(e):t;s!==e&&d(s)}else a(t)},[l,e,a,d])]}e.s(["useControllableState",()=>r])},99682,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},21218,e=>{"use strict";let t=(0,e.i(75254).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},98919,e=>{"use strict";let t=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},10472,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(70065),i=e.i(67881),n=e.i(94179),a=e.i(62870),l=e.i(88844),c=e.i(63209),d=e.i(98919);let o=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var u=e.i(21218),x=e.i(22016);function m(){let[e,m]=(0,s.useState)(null),[f,h]=(0,s.useState)(!0),[v,p]=(0,s.useState)("30"),[j,g]=(0,s.useState)([]),[y,b]=(0,s.useState)("all");if((0,s.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([fetch(`/api/dashboard/kpis?${"all"!==y?`warehouseId=${y}&`:""}dateFrom=${new Date(Date.now()-24*parseInt(v)*36e5).toISOString()}`),fetch("/api/warehouses")]),[s,r]=await Promise.all([e.json(),t.json()]);m(s),g(r.data||[])}catch(e){console.error("Failed to fetch data:",e)}finally{h(!1)}})()},[v,y]),f)return(0,t.jsx)("div",{className:"text-center py-10",children:"Loading..."});let w=[{title:"Review Low Stock Alerts",priority:"HIGH",count:e?.inventory?.lowStockItems||0,link:"/products?lowStock=true"},{title:"Pending Operations",priority:"MEDIUM",count:(e?.operations?.pendingReceipts||0)+(e?.operations?.pendingDeliveries||0),link:"/receipts"},{title:"System Performance",priority:"LOW",count:e?.alerts?.length||0,link:"/settings"}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Shield,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Admin Dashboard"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)(a.Select,{value:y,onValueChange:b,children:[(0,t.jsx)(a.SelectTrigger,{className:"w-full sm:w-48",children:(0,t.jsx)(a.SelectValue,{placeholder:"All Warehouses"})}),(0,t.jsxs)(a.SelectContent,{children:[(0,t.jsx)(a.SelectItem,{value:"all",children:"All Warehouses"}),j.map(e=>(0,t.jsx)(a.SelectItem,{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)(a.Select,{value:v,onValueChange:p,children:[(0,t.jsx)(a.SelectTrigger,{className:"w-full sm:w-32",children:(0,t.jsx)(a.SelectValue,{})}),(0,t.jsxs)(a.SelectContent,{children:[(0,t.jsx)(a.SelectItem,{value:"7",children:"7 days"}),(0,t.jsx)(a.SelectItem,{value:"30",children:"30 days"}),(0,t.jsx)(a.SelectItem,{value:"90",children:"90 days"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Total Products"}),(0,t.jsx)(l.Package,{className:"w-4 h-4 text-primary"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e?.inventory?.totalProducts||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Active inventory items"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Inventory Value"}),(0,t.jsx)(o,{className:"w-4 h-4 text-success"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["$",(e?.inventory?.totalInventoryValue||0).toLocaleString()]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total stock value"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Low Stock Items"}),(0,t.jsx)(c.AlertCircle,{className:"w-4 h-4 text-warning"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-warning",children:e?.inventory?.lowStockItems||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Need reordering"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Stock Movements"}),(0,t.jsx)(u.Activity,{className:"w-4 h-4 text-accent"})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e?.operations?.totalMovements||0}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Last ",v," days"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{children:"Operations Overview"})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Pending Receipts"}),(0,t.jsx)(n.Badge,{variant:"outline",children:e?.operations?.pendingReceipts||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Pending Deliveries"}),(0,t.jsx)(n.Badge,{variant:"outline",children:e?.operations?.pendingDeliveries||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Scheduled Transfers"}),(0,t.jsx)(n.Badge,{variant:"outline",children:e?.operations?.scheduledTransfers||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Inbound Movements"}),(0,t.jsx)(n.Badge,{variant:"secondary",children:e?.operations?.inboundMovements||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Outbound Movements"}),(0,t.jsx)(n.Badge,{variant:"secondary",children:e?.operations?.outboundMovements||0})]})]})})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{children:"Priority Tasks"})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:w.map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 rounded-lg border gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.title}),e.count>0&&(0,t.jsx)(n.Badge,{variant:"HIGH"===e.priority?"destructive":"secondary",children:e.count})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Badge,{variant:"HIGH"===e.priority?"destructive":"MEDIUM"===e.priority?"default":"secondary",children:e.priority}),(0,t.jsx)(x.default,{href:e.link,children:(0,t.jsx)(i.Button,{size:"sm",variant:"outline",children:"View"})})]})]},s))})})]})]}),e?.alerts&&e.alerts.length>0&&(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{children:"Recent Alerts"})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-2",children:e.alerts.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-2 rounded border gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.AlertCircle,{className:"w-4 h-4 text-warning flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm",children:e.message})]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]},s))})})]})]})}e.s(["default",()=>m],10472)}]);